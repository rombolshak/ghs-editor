"use strict";(self.webpackChunkghs_editor=self.webpackChunkghs_editor||[]).push([[354],{8521:(j,x,o)=>{o.d(x,{v:()=>t});class t{constructor(){this.model=null,this.storeKey=""}initialize(m,_){this.storeKey=m;const v=this.loadFromStore();v&&_.set(v),_.data$.subscribe(g=>this.saveToStore(g)),this.model=_}loadFromStore(){const m=localStorage.getItem(`ghse-data-${this.storeKey}`);return null!=m?JSON.parse(m):null}saveToStore(m){localStorage.setItem(`ghse-data-${this.storeKey}`,JSON.stringify(m))}}},5983:(j,x,o)=>{o.d(x,{u:()=>g});var t=o(1135),e=o(4004),m=o(4782),_=o(4650);class v{constructor(p,y,b,W){this.immutable=y,this.clone=W,this._data=new t.X(p),this.data$=this._data.asObservable().pipe((0,e.U)(A=>this.immutable?W?W(A):JSON.parse(JSON.stringify(A)):A),b?(0,m.d)({bufferSize:1,refCount:!0}):(0,e.U)(A=>A))}get(){const p=this._data.getValue();return this.immutable?this.clone?this.clone(p):JSON.parse(JSON.stringify(p)):p}set(p){if(this.immutable){const y=this.clone?this.clone(p):JSON.parse(JSON.stringify(p));this._data.next(y)}else this._data.next(p)}}class g{create(p){return new v(p,!0,!1)}createMutable(p){return new v(p,!1,!1)}createMutableWithSharedSubscription(p){return new v(p,!1,!0)}createWithCustomClone(p,y){return new v(p,!0,!1,y)}createWithConfig(p){const{initialData:y,immutable:b,sharedSubscription:W,clone:A}=p;return new v(y,b,W,A)}}g.\u0275fac=function(p){return new(p||g)},g.\u0275prov=_.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})},4466:(j,x,o)=>{o.d(x,{m:()=>p});var t=o(6895),e=o(9367),m=o(7819),_=o(9791),v=o(8276),g=o(4650);const O=[t.ez,e.fN,m.dS,_.j,v.E];class p{}p.\u0275fac=function(b){return new(b||p)},p.\u0275mod=g.oAB({type:p}),p.\u0275inj=g.cJS({imports:[O,t.ez,e.fN,m.dS,_.j,v.E]})},9982:(j,x,o)=>{o.d(x,{t:()=>e,u:()=>m});var t=o(4650);let e=(()=>{class _{constructor(){this.focusable=!0}get tabIndex(){return this.focusable?0:-1}}return _.\u0275fac=function(g){return new(g||_)},_.\u0275dir=t.lG2({type:_,selectors:[["","tuiFocusable",""]],hostVars:1,hostBindings:function(g,O){2&g&&t.Ikx("tabIndex",O.tabIndex)},inputs:{focusable:["tuiFocusable","focusable"]}}),_})(),m=(()=>{class _{}return _.\u0275fac=function(g){return new(g||_)},_.\u0275mod=t.oAB({type:_}),_.\u0275inj=t.cJS({}),_})()},710:(j,x,o)=>{o.d(x,{VE:()=>A,co:()=>W,gs:()=>b});var t=o(4650),e=o(3679),m=o(3054),_=o(9751),v=o(6451),g=o(9718),O=o(9300),p=o(1884);function y({currentTarget:c,relatedTarget:R}){return!(0,m.ve)(R)||!(0,m.ve)(c)||!c.contains(R)}let b=(()=>{class c extends _.y{constructor(L,U){super(Z=>this.stream$.subscribe(Z)),this.elementRef=L,this.ngZone=U,this.stream$=(0,v.T)((0,e.mL)(this.elementRef.nativeElement,"mouseenter").pipe((0,g.h)(!0)),(0,e.mL)(this.elementRef.nativeElement,"mouseleave").pipe((0,g.h)(!1)),(0,e.mL)(this.elementRef.nativeElement,"mouseout").pipe((0,O.h)(y),(0,g.h)(!1))).pipe((0,p.x)(),(0,e.Yr)(this.ngZone))}}return c.\u0275fac=function(L){return new(L||c)(t.LFG(t.SBq),t.LFG(t.R0b))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac}),c})(),W=(()=>{class c{constructor(L){this.tuiHoveredChange=L}}return c.\u0275fac=function(L){return new(L||c)(t.Y36(b))},c.\u0275dir=t.lG2({type:c,selectors:[["","tuiHoveredChange",""]],outputs:{tuiHoveredChange:"tuiHoveredChange"},features:[t._Bn([b])]}),c})(),A=(()=>{class c{}return c.\u0275fac=function(L){return new(L||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({}),c})()},4258:(j,x,o)=>{o.d(x,{O:()=>e});var t=o(8865);function e(m){return t.z.assert(Number.isFinite(m),"Value must be finite number"),`${m}px`}},1127:(j,x,o)=>{o.d(x,{o1:()=>tt,jh:()=>nt});var t=o(655),e=o(4650),m=o(4227),_=o(8923),v=o(3422),g=o(7776),O=o(7579),p=o(515),y=o(4004),b=o(3900);let W=(()=>{class a{constructor(i,u){this.enabled$=new O.x;const h=u.pipe((0,y.U)(f=>!!f&&(!i||!f.length||f.every(Q=>!i.contains(Q)))));this.tuiObscured=this.enabled$.pipe((0,b.w)(f=>f?h:p.E))}set tuiObscuredEnabled(i){this.enabled$.next(i)}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(v.e,8),e.Y36(g.AQ,2))},a.\u0275dir=e.lG2({type:a,selectors:[["","tuiObscured",""]],inputs:{tuiObscuredEnabled:"tuiObscuredEnabled"},outputs:{tuiObscured:"tuiObscured"},features:[e._Bn([g.AQ,g.b0,g.a3])]}),(0,t.gn)([(0,_.NH)()],a.prototype,"tuiObscuredEnabled",null),a})(),A=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({}),a})();var c=o(9255),R=o(3054),L=o(7414),U=o(243),Z=o(9040),w=o(1135),B=o(9841),s=o(8675),E=o(9740),M=o(6895);const T=["wrapper"];function J(a,P){if(1&a&&(e.ynx(0),e._uU(1),e.BQk()),2&a){const i=P.polymorpheusOutlet;e.xp6(1),e.hij(" ",i," ")}}const G=function(a,P){return{$implicit:a,close:P}};function X(a,P){if(1&a){const i=e.EpF();e.TgZ(0,"div",5,6),e.NdJ("keydown.esc",function(h){e.CHM(i);const f=e.oxw(2);return e.KtG(f.onKeyDownEsc(h))})("keydown",function(h){e.CHM(i);const f=e.oxw(2);return e.KtG(f.onKeydown(h))}),e.YNc(2,J,2,1,"ng-container",7),e.qZA(),e._UZ(3,"div")}if(2&a){e.oxw();const i=e.MAs(1),u=e.oxw();e.xp6(2),e.Q6J("polymorpheusOutlet",u.content)("polymorpheusOutletContext",e.WLB(2,G,i,u.close))}}function V(a,P){if(1&a){const i=e.EpF();e.TgZ(0,"div",1,2),e.NdJ("tuiObscured",function(h){e.CHM(i);const f=e.oxw();return e.KtG(f.onHostObscured(h))})("tuiActiveZoneChange",function(h){e.CHM(i);const f=e.oxw();return e.KtG(f.onActiveZone(h))}),e.Hsn(2),e.YNc(3,X,4,5,"ng-template",3,4,e.W1O),e.qZA()}if(2&a){const i=P.tuiLet,u=e.MAs(4),h=e.oxw();e.Q6J("tuiDropdownSided",h.sided)("tuiDropdownHost",h.host)("tuiDropdown",u)("tuiDropdownManual",i&&h.canOpen)("tuiObscuredEnabled",i),e.xp6(3),e.Q6J("polymorpheus",h.context)}}const z=["*"];let q=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275dir=e.lG2({type:a,selectors:[["","tuiHostedDropdownHost",""]]}),a})(),tt=(()=>{class a{constructor(i,u){this.hover$=i,this.elementRef=u,this.manual$=new w.X(!1),this.content="",this.sided=!1,this.canOpen=!0,this.openChange=new e.vpe,this.focusedChange=new e.vpe,this.open$=(0,B.a)([this.manual$,(this.hover$||p.E).pipe((0,s.O)(!1))]).pipe((0,y.U)(([h,f])=>h||f)),this.close=()=>this.updateOpen(!1)}set open(i){this.manual$.next(i)}get open(){return this.manual$.value}get host(){var i;return(null===(i=this.dropdownHost)||void 0===i?void 0:i.nativeElement)||this.elementRef.nativeElement}get computedHost(){var i;return(null===(i=this.dropdownHost)||void 0===i?void 0:i.nativeElement)||this.nativeFocusableElement||this.elementRef.nativeElement}get dropdown(){var i,u;return null===(u=null===(i=this.dropdownDirective)||void 0===i?void 0:i.dropdownBoxRef)||void 0===u?void 0:u.location.nativeElement}get nativeFocusableElement(){return(0,c.dT)(this.host)?this.host:(0,c.BW)({initial:this.host,root:this.elementRef.nativeElement})}get focused(){return(0,c.zb)(this.host)||this.open&&!!this.wrapper&&(0,c.zb)(this.wrapper.nativeElement)}onFocusIn(i){this.computedHost.contains(i)||this.updateOpen(!1)}onClick(i){!this.hostEditable&&this.computedHost.contains(i)&&this.updateOpen(!this.open)}onKeyDownEsc(i){!this.canOpen||!this.open||(i.stopPropagation(),this.closeDropdown())}onArrow(i,u){this.focusDropdown(i,u)}onKeydown({key:i,target:u,defaultPrevented:h}){!h&&(0,Z.kL)(i)&&this.hostEditable&&(0,R.dW)(u)&&!(0,R.Hn)(u)&&this.focusHost()}onActiveZone(i){this.updateFocused(i),i||this.updateOpen(!1)}onHostObscured(i){i&&this.closeDropdown()}updateOpen(i){i&&!this.canOpen||(this.open=i,this.openChange.emit(i))}get hostEditable(){return(0,R.Hn)(this.computedHost)}focusDropdown(i,u){const h=this.nativeFocusableElement;if(!(h&&(0,R.dW)(h)&&(0,R.ve)(i.target)&&h.contains(i.target)))return;if(!(this.wrapper&&this.open&&this.dropdown&&(0,R.dW)(this.wrapper.nativeElement.nextElementSibling)))return this.updateOpen(!0),void((0,R.Hn)(h)||i.preventDefault());const Q=(0,c.BW)({initial:u?this.wrapper.nativeElement:this.wrapper.nativeElement.nextElementSibling,root:this.wrapper.nativeElement,previous:!u});!Q||(Q.focus(),i.preventDefault())}closeDropdown(){this.focused&&this.focusHost(),this.updateOpen(!1)}focusHost(){const i=this.nativeFocusableElement;i&&i.focus({preventScroll:!0})}updateFocused(i){this.focusedChange.emit(i)}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(U.E$,8),e.Y36(e.SBq))},a.\u0275cmp=e.Xpm({type:a,selectors:[["tui-hosted-dropdown"]],contentQueries:function(i,u,h){if(1&i&&e.Suo(h,q,5,e.SBq),2&i){let f;e.iGM(f=e.CRH())&&(u.dropdownHost=f.first)}},viewQuery:function(i,u){if(1&i&&(e.Gf(T,5,e.SBq),e.Gf(U.td,5),e.Gf(v.e,5)),2&i){let h;e.iGM(h=e.CRH())&&(u.wrapper=h.first),e.iGM(h=e.CRH())&&(u.dropdownDirective=h.first),e.iGM(h=e.CRH())&&(u.activeZone=h.first)}},hostVars:2,hostBindings:function(i,u){1&i&&e.NdJ("focusin",function(f){return u.onFocusIn(f.target)})("click",function(f){return u.onClick(f.target)})("keydown.esc",function(f){return u.onKeyDownEsc(f)})("keydown.arrowDown",function(f){return u.onArrow(f,!0)})("keydown.arrowUp",function(f){return u.onArrow(f,!1)}),2&i&&e.ekj("_hosted_dropdown_focused",u.focused)},inputs:{content:"content",sided:"sided",canOpen:"canOpen",open:"open"},outputs:{openChange:"openChange",focusedChange:"focusedChange"},features:[e._Bn([(0,L.FT)(a)])],ngContentSelectors:z,decls:2,vars:3,consts:[["class","t-wrapper",3,"tuiDropdownSided","tuiDropdownHost","tuiDropdown","tuiDropdownManual","tuiObscuredEnabled","tuiObscured","tuiActiveZoneChange",4,"tuiLet"],[1,"t-wrapper",3,"tuiDropdownSided","tuiDropdownHost","tuiDropdown","tuiDropdownManual","tuiObscuredEnabled","tuiObscured","tuiActiveZoneChange"],["activeZone","tuiActiveZone"],[3,"polymorpheus"],["dropdown","polymorpheus"],[3,"keydown.esc","keydown"],["wrapper",""],[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(i,u){1&i&&(e.F$t(),e.YNc(0,V,5,6,"div",0),e.ALo(1,"async")),2&i&&e.Q6J("tuiLet",!!e.lcZ(1,1,u.open$))},dependencies:[m.Ls,U.Cw,U.td,U.VC,U.s4,U.Tp,W,v.e,E.GL,E.Li,M.Ov],styles:["[_nghost-%COMP%]{display:inline-flex}.t-wrapper[_ngcontent-%COMP%]{border-radius:inherit;height:inherit;flex:1 1 auto;width:100%}"],changeDetection:0}),(0,t.gn)([(0,_.TH)()],a.prototype,"content",void 0),(0,t.gn)([(0,_.TH)()],a.prototype,"sided",void 0),(0,t.gn)([(0,_.TH)()],a.prototype,"canOpen",void 0),(0,t.gn)([(0,_.TH)()],a.prototype,"open",null),a})(),nt=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[M.ez,E.wq,m.WD,A,v.A,U.dp]]}),a})()},9791:(j,x,o)=>{o.d(x,{V:()=>w,j:()=>B});var t=o(655),e=o(4650),m=o(3679),_=o(9255),v=o(7776),g=o(7414),O=o(8923),p=o(4645),y=o(1308),b=o(6451),W=o(9718),A=o(8276),c=o(6895);const R=["tuiLink",""];function L(s,E){if(1&s&&e._UZ(0,"tui-svg",3),2&s){const M=e.oxw();e.Q6J("src",M.icon||"")}}function U(s,E){if(1&s&&e._UZ(0,"tui-svg",4),2&s){const M=e.oxw();e.Q6J("src",M.icon||"")}}const Z=["*"];let w=(()=>{class s{constructor(M,T,J){this.elementRef=M,this.mode$=T,this.pseudo=!1,this.icon="",this.iconAlign="right",this.iconRotated=!1,this.mode=null,this.focusVisible=!1,this.focusedChange=(0,b.T)((0,m.mL)(this.elementRef.nativeElement,"focusin").pipe((0,W.h)(!0)),(0,m.mL)(this.elementRef.nativeElement,"focusout").pipe((0,W.h)(!1))),J.subscribe(G=>{this.focusVisible=G})}get nativeFocusableElement(){return this.elementRef.nativeElement}get focused(){return(0,_.V8)(this.nativeFocusableElement)}get hasIcon(){return!!this.icon}get iconAlignLeft(){return this.hasIcon&&"left"===this.iconAlign}get iconAlignRight(){return this.hasIcon&&"right"===this.iconAlign}}return s.\u0275fac=function(M){return new(M||s)(e.Y36(e.SBq),e.Y36(y.Au),e.Y36(v.ku))},s.\u0275cmp=e.Xpm({type:s,selectors:[["a","tuiLink",""],["button","tuiLink",""]],hostVars:7,hostBindings:function(M,T){1&M&&e.NdJ("$.data-mode.attr",function(){return T.mode$}),2&M&&(e.uIk("data-host-mode",T.mode),e.ekj("_pseudo",T.pseudo)("_icon-rotated",T.iconRotated)("_focus-visible",T.focusVisible))},inputs:{pseudo:"pseudo",icon:"icon",iconAlign:"iconAlign",iconRotated:"iconRotated",mode:"mode"},exportAs:["tuiLink"],features:[e._Bn([(0,g.FT)(s),v.ku,v.a3,p.CV])],attrs:R,ngContentSelectors:Z,decls:4,vars:2,consts:[["class","t-icon t-icon_left",3,"src",4,"ngIf"],[1,"t-content"],["class","t-icon t-icon_right",3,"src",4,"ngIf"],[1,"t-icon","t-icon_left",3,"src"],[1,"t-icon","t-icon_right",3,"src"]],template:function(M,T){1&M&&(e.F$t(),e.YNc(0,L,1,1,"tui-svg",0),e.TgZ(1,"span",1),e.Hsn(2),e.qZA(),e.YNc(3,U,1,1,"tui-svg",2)),2&M&&(e.Q6J("ngIf",T.iconAlignLeft),e.xp6(3),e.Q6J("ngIf",T.iconAlignRight))},dependencies:[A.P,c.O5],styles:["[_nghost-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;transition-property:color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;color:var(--tui-link);text-decoration:none;text-align:left;text-transform:inherit;font-weight:inherit;cursor:pointer;outline:none}[_nghost-%COMP%]:hover{color:var(--tui-link-hover)}[_nghost-%COMP%]:disabled{opacity:var(--tui-disabled-opacity);cursor:default}[data-mode=onLight][_nghost-%COMP%]{color:var(--tui-text-02)}[data-mode=onLight][_nghost-%COMP%]:hover, [data-mode=onLight]._active[_nghost-%COMP%]{color:var(--tui-text-01)}[data-mode=onLight]._pseudo[_nghost-%COMP%]{color:var(--tui-text-01)}[data-mode=onLight]._pseudo[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{-webkit-text-decoration-color:rgba(0,0,0,.48);text-decoration-color:rgba(0,0,0,.48)}[data-mode=onLight]._pseudo[_nghost-%COMP%]:hover, [data-mode=onLight]._pseudo._active[_nghost-%COMP%]{color:var(--tui-text-03)}[data-mode=onLight][data-host-mode=negative][_nghost-%COMP%]{color:var(--tui-negative-night)}[data-mode=onLight][data-host-mode=negative][_nghost-%COMP%]:hover, [data-mode=onLight][data-host-mode=negative][_nghost-%COMP%]:active, [data-mode=onLight][data-host-mode=negative]._active[_nghost-%COMP%]{color:var(--tui-negative-night-hover)}[data-mode=onDark][_nghost-%COMP%]{color:var(--tui-text-03-night)}[data-mode=onDark][_nghost-%COMP%]:hover, [data-mode=onDark][_nghost-%COMP%]:active, [data-mode=onDark]._active[_nghost-%COMP%]{color:var(--tui-text-01-night)}[data-mode=onDark]._pseudo[_nghost-%COMP%]{color:var(--tui-text-01-night)}[data-mode=onDark]._pseudo[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{-webkit-text-decoration-color:rgba(255,255,255,.48);text-decoration-color:rgba(255,255,255,.48)}[data-mode=onDark]._pseudo[_nghost-%COMP%]:hover, [data-mode=onDark]._pseudo[_nghost-%COMP%]:active, [data-mode=onDark]._pseudo._active[_nghost-%COMP%]{color:var(--tui-text-03-night)}[data-mode=onDark][data-host-mode=positive][_nghost-%COMP%]{color:var(--tui-positive-night)}[data-mode=onDark][data-host-mode=positive][_nghost-%COMP%]:hover, [data-mode=onDark][data-host-mode=positive][_nghost-%COMP%]:active, [data-mode=onDark][data-host-mode=positive]._active[_nghost-%COMP%]{color:var(--tui-positive-night-hover)}[data-host-mode=negative][_nghost-%COMP%]{color:var(--tui-negative)}[data-host-mode=negative][_nghost-%COMP%]:hover{color:var(--tui-negative-hover)}[data-host-mode=negative]._pseudo[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{-webkit-text-decoration-color:rgba(222,76,30,.48);text-decoration-color:rgba(222,76,30,.48)}[data-host-mode=positive][_nghost-%COMP%]{color:var(--tui-positive)}[data-host-mode=positive][_nghost-%COMP%]:hover{color:var(--tui-positive-hover)}[data-host-mode=positive]._pseudo[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{-webkit-text-decoration-color:rgba(58,169,129,.48);text-decoration-color:rgba(58,169,129,.48)}._focus-visible[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{background:var(--tui-selection)}[data-mode=onLight]._focus-visible[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{background:var(--tui-clear);color:var(--tui-text-01)}[data-mode=onDark]._focus-visible[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{background:var(--tui-clear-inverse);color:var(--tui-text-01-night)}[data-host-mode=positive]._focus-visible[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{background:var(--tui-success-bg)}[data-host-mode=negative]._focus-visible[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{background:var(--tui-error-bg)}._pseudo[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding-bottom:.15em;-webkit-text-decoration:underline dashed rgba(51,111,238,.48);text-decoration:underline dashed rgba(51,111,238,.48);text-underline-offset:.2em;text-decoration-thickness:.7px}.t-icon[_ngcontent-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;margin-top:-.125rem;opacity:.8}.t-icon_left[_ngcontent-%COMP%]{margin-right:.25rem}.t-icon_right[_ngcontent-%COMP%]{margin-left:.25rem}[_nghost-%COMP%]:hover   .t-icon[_ngcontent-%COMP%]{opacity:1}._icon-rotated[_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}"],changeDetection:0}),(0,t.gn)([(0,O.TH)()],s.prototype,"pseudo",void 0),(0,t.gn)([(0,O.TH)()],s.prototype,"icon",void 0),(0,t.gn)([(0,O.TH)()],s.prototype,"iconAlign",void 0),(0,t.gn)([(0,O.TH)()],s.prototype,"iconRotated",void 0),(0,t.gn)([(0,O.TH)()],s.prototype,"mode",void 0),s})(),B=(()=>{class s{}return s.\u0275fac=function(M){return new(M||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[c.ez,A.E]]}),s})()},1195:(j,x,o)=>{o.d(x,{IB:()=>U,Jy:()=>Z});var t=o(4650),e=o(1308),m=o(655),_=o(9892),v=o(6422),g=o(3054),O=o(7414),p=o(8923),y=o(8476),b=o(6895);function W(w,B){1&w&&t._UZ(0,"tui-scroll-controls")}const A=["*"];let U=(()=>{class w{constructor(s,E,M,T){this.cssRef=s,this.elementRef=E,this.userAgent=M,this.isIos=T,this.delegated=!1,this.isLegacy=!this.cssRef.supports("position","sticky")||(0,v.oK)(this.userAgent)&&!this.cssRef.supports("scrollbar-width","none"),this.hidden=!1,this.browserScrollRef=new t.SBq(this.elementRef.nativeElement)}get showScrollbars(){return!this.hidden&&!this.isIos&&(!this.isLegacy||this.delegated)}get showNative(){return this.isLegacy&&!this.hidden&&!this.delegated}onScrollable(s){this.delegated=!0,this.browserScrollRef.nativeElement=s}scrollIntoView(s){var E;if(this.delegated)return;const{nativeElement:M}=this.browserScrollRef,{offsetTop:T,offsetLeft:J}=(0,g.YX)(M,s),{clientHeight:G,clientWidth:X}=M,{offsetHeight:V,offsetWidth:z}=s;null===(E=M.scrollTo)||void 0===E||E.call(M,J+z/2-X/2,T+V/2-G/2)}}return w.\u0275fac=function(s){return new(s||w)(t.Y36(_.ux),t.Y36(t.SBq),t.Y36(_.yZ),t.Y36(O.FA))},w.\u0275cmp=t.Xpm({type:w,selectors:[["tui-scrollbar"]],hostVars:2,hostBindings:function(s,E){1&s&&t.NdJ("tui-scrollable.stop",function(T){return E.onScrollable(T.detail)})("tui-scroll-into-view.stop",function(T){return E.scrollIntoView(T.detail)}),2&s&&t.ekj("_legacy",E.showNative)},inputs:{hidden:"hidden"},features:[t._Bn([{provide:e.$_,deps:[w],useFactory:({browserScrollRef:B})=>B}])],ngContentSelectors:A,decls:3,vars:1,consts:[[4,"ngIf"],[1,"t-content"]],template:function(s,E){1&s&&(t.F$t(),t.YNc(0,W,1,0,"tui-scroll-controls",0),t.TgZ(1,"div",1),t.Hsn(2),t.qZA()),2&s&&t.Q6J("ngIf",E.showScrollbars)},dependencies:[y.tZ,b.O5],styles:["[_nghost-%COMP%]{z-index:0;position:relative;display:flex;overflow:auto}[_nghost-%COMP%]:not(._legacy){scrollbar-width:none;-ms-overflow-style:none}[_nghost-%COMP%]:not(._legacy)::-webkit-scrollbar, [_nghost-%COMP%]:not(._legacy)::-webkit-scrollbar-thumb{background:transparent;width:0;height:0}._legacy[_nghost-%COMP%]{overflow:overlay}@media all and (-webkit-min-device-pixel-ratio: 0) and (min-resolution: .001dpcm){._legacy[_nghost-%COMP%]::-webkit-scrollbar, ._legacy[_nghost-%COMP%]::-webkit-scrollbar-thumb{width:1rem;height:1rem;border-radius:6.25rem;background-clip:padding-box;border:2.667rem solid transparent}._legacy[_nghost-%COMP%]::-webkit-scrollbar{background-color:transparent}._legacy[_nghost-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--tui-clear-hover)}._legacy[_nghost-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:var(--tui-clear-active)}._legacy[_nghost-%COMP%]::-webkit-scrollbar-thumb:active{background-color:var(--tui-text-03)}}.t-content[_ngcontent-%COMP%]{position:relative;z-index:0;flex:1;flex-basis:auto;width:100%;height:-webkit-max-content;height:-moz-max-content;height:max-content}"],changeDetection:0}),(0,m.gn)([(0,p.TH)()],w.prototype,"hidden",void 0),w})(),Z=(()=>{class w{}return w.\u0275fac=function(s){return new(s||w)},w.\u0275mod=t.oAB({type:w}),w.\u0275inj=t.cJS({imports:[[b.ez,y.eI]]}),w})()},243:(j,x,o)=>{o.d(x,{Cw:()=>dt,E$:()=>P,Tp:()=>at,VC:()=>rt,dp:()=>ct,fx:()=>h,s4:()=>st,td:()=>a});var t=o(4650),e=o(9892),m=o(3422),_=o(9837),v=o(710),g=o(5442),O=o(8923),p=o(4258),y=o(9255),b=o(7776),W=o(1054),A=o(8535),c=o(6966),R=o(3281),L=o(8790),U=o(1308),Z=o(3900),w=o(4086),B=o(2722),s=o(655),E=o(9723),M=o(9040),T=o(9740),J=o(7579),G=o(6451),X=o(9646),V=o(1195),z=o(2302);function q(n,D){if(1&n&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&n){const r=D.polymorpheusOutlet;t.xp6(1),t.hij(" ",r," ")}}const tt=function(n){return{$implicit:n}},nt=new t.OlP("[TUI_DROPDOWN_COMPONENT] A component to display a dropdown",{factory:()=>Q});let a=(()=>{class n{constructor(r,d,l){this.elementRef=r,this.component=d,this.dropdownService=l,this.content="",this.dropdownBoxRef=null}get position(){return(0,E.qK)(this.elementRef.nativeElement)?"fixed":"absolute"}ngAfterViewChecked(){var r,d;null===(r=this.dropdownBoxRef)||void 0===r||r.changeDetectorRef.detectChanges(),null===(d=this.dropdownBoxRef)||void 0===d||d.changeDetectorRef.markForCheck()}ngOnChanges(){this.content||this.toggle(!1)}ngOnDestroy(){this.toggle(!1)}getClientRect(){return this.elementRef.nativeElement.getBoundingClientRect()}toggle(r){r&&this.content&&!this.dropdownBoxRef?this.dropdownBoxRef=this.dropdownService.add(this.component):!r&&this.dropdownBoxRef&&(this.dropdownService.remove(this.dropdownBoxRef),this.dropdownBoxRef=null)}}return n.\u0275fac=function(r){return new(r||n)(t.Y36(t.SBq),t.Y36(T.Al),t.Y36(g.ae))},n.\u0275dir=t.lG2({type:n,selectors:[["","tuiDropdown","",5,"ng-container"]],inputs:{content:["tuiDropdown","content"]},exportAs:["tuiDropdown"],features:[t._Bn([(0,c.Ic)(n),(0,c.Fe)(n),{provide:T.Al,deps:[nt,t.gxx],useClass:T.Al}]),t.TTD]}),(0,s.gn)([(0,O.TH)()],n.prototype,"content",void 0),(0,s.gn)([O.UM],n.prototype,"position",null),n})(),P=(()=>{class n extends c.kk{constructor(r){super(d=>this.stream$.subscribe(d)),this.hovered$=r,this.toggle$=new J.x,this.stream$=(0,G.T)(this.toggle$,this.hovered$).pipe((0,Z.w)(d=>(0,X.of)(d).pipe((0,w.g)(d?this.showDelay:this.hideDelay)))),this.showDelay=200,this.hideDelay=500}toggle(r){this.toggle$.next(r)}}return n.\u0275fac=function(r){return new(r||n)(t.Y36(v.gs))},n.\u0275dir=t.lG2({type:n,selectors:[["","tuiDropdownHover","",5,"ng-container"]],inputs:{showDelay:["tuiDropdownShowDelay","showDelay"],hideDelay:["tuiDropdownHideDelay","hideDelay"]},features:[t._Bn([(0,c.UK)(n),v.gs]),t.qOj]}),(0,s.gn)([(0,O.TH)()],n.prototype,"showDelay",void 0),(0,s.gn)([(0,O.TH)()],n.prototype,"hideDelay",void 0),n})();const i={align:"left",direction:null,limitWidth:"auto",maxHeight:400,minHeight:80,offset:4},u=new t.OlP("[TUI_DROPDOWN_OPTIONS] Default parameters for dropdown directive",{factory:()=>i}),h=n=>({provide:u,deps:[[new t.FiY,f],[new t.tp0,u]],useFactory:(0,M.lp)(n)});let f=(()=>{class n{constructor(r){this.options=r,this.align=this.options.align,this.direction=this.options.direction,this.limitWidth=this.options.limitWidth,this.minHeight=this.options.minHeight,this.maxHeight=this.options.maxHeight,this.offset=this.options.offset}}return n.\u0275fac=function(r){return new(r||n)(t.Y36(u,4))},n.\u0275dir=t.lG2({type:n,selectors:[["","tuiDropdownAlign",""],["","tuiDropdownDirection",""],["","tuiDropdownLimitWidth",""],["","tuiDropdownMinHeight",""],["","tuiDropdownMaxHeight",""],["","tuiDropdownOffset",""]],inputs:{align:["tuiDropdownAlign","align"],direction:["tuiDropdownDirection","direction"],limitWidth:["tuiDropdownLimitWidth","limitWidth"],minHeight:["tuiDropdownMinHeight","minHeight"],maxHeight:["tuiDropdownMaxHeight","maxHeight"],offset:["tuiDropdownOffset","offset"]},features:[t._Bn([{provide:u,useExisting:(0,t.Gpc)(()=>n)}])]}),(0,s.gn)([(0,O.TH)()],n.prototype,"align",void 0),(0,s.gn)([(0,O.TH)()],n.prototype,"direction",void 0),(0,s.gn)([(0,O.TH)()],n.prototype,"limitWidth",void 0),(0,s.gn)([(0,O.TH)()],n.prototype,"minHeight",void 0),(0,s.gn)([(0,O.TH)()],n.prototype,"maxHeight",void 0),(0,s.gn)([(0,O.TH)()],n.prototype,"offset",void 0),n})(),Q=(()=>{class n{constructor(r,d,l,C,H,N,I,Y,K,F){this.directive=l,this.elementRef=C,this.host=H,this.accessor=N,this.windowRef=I,this.animationOptions=Y,this.options=K,this.hoverDirective=F,this.dropdownAnimation=Object.assign({value:"fadeInTop"},this.animationOptions),r.pipe((0,B.R)(d)).subscribe(([S,$])=>{this.update(S,$)})}onHoveredChange(r){this.hoverDirective&&this.hoverDirective.toggle(r)}onTopFocus(){this.moveFocusOutside(!0)}onBottomFocus(){this.moveFocusOutside(!1)}update(r,d){const{style:l}=this.elementRef.nativeElement,{right:C}=this.elementRef.nativeElement.getBoundingClientRect(),{limitWidth:H,maxHeight:N,offset:I}=this.options,{innerHeight:Y}=this.windowRef,{clientRect:K}=this.host,{position:F}=this.directive,S=this.accessor.getClientRect(),k="fixed"===F?0:-K.top;r+=k;const ot=(d+="fixed"===F?0:-K.left)<S.right&&C>S.left&&r<k+2*I?S.top-2*I:k+Y-r-I;switch(l.position=F,l.top=(0,p.O)(Math.max(r,k+I)),l.left=(0,p.O)(d),l.maxHeight=(0,p.O)(Math.min(N,ot)),l.width="",l.minWidth="",H){case"min":l.minWidth=(0,p.O)(S.width);break;case"fixed":l.width=(0,p.O)(S.width)}}moveFocusOutside(r){const d=document.createElement("div"),{ownerDocument:l}=d,C=l?l.body:d;let H=(0,y.BW)({initial:d,root:C,previous:r});for(;null!==H&&d.contains(H);)H=(0,y.BW)({initial:H,root:C,previous:r});H?.focus()}}return n.\u0275fac=function(r){return new(r||n)(t.Y36(L.KG),t.Y36(b.a3,2),t.Y36(a),t.Y36(t.SBq),t.Y36(W.Er),t.Y36(c.O4),t.Y36(e.m9),t.Y36(U.Pw),t.Y36(u),t.Y36(P,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["tui-dropdown"]],hostVars:1,hostBindings:function(r,d){2&r&&t.d8E("@tuiDropdownAnimation",d.dropdownAnimation)},features:[t._Bn([b.a3,L.KG])],decls:6,vars:5,consts:[["tuiActiveZone","","tuiOverscroll","all",1,"t-wrapper",3,"tuiMode","tuiHoveredChange"],["activeZone","tuiActiveZone"],[1,"t-scroll"],["tabindex","0",3,"focus"],["class","t-primitive",4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"t-primitive"]],template:function(r,d){if(1&r&&(t.TgZ(0,"div",0,1),t.NdJ("tuiHoveredChange",function(C){return d.onHoveredChange(C)}),t.TgZ(2,"tui-scrollbar",2)(3,"div",3),t.NdJ("focus",function(){return d.onTopFocus()}),t.qZA(),t.YNc(4,q,2,1,"div",4),t.TgZ(5,"div",3),t.NdJ("focus",function(){return d.onBottomFocus()}),t.qZA()()()),2&r){const l=t.MAs(1);t.Q6J("tuiMode",null),t.xp6(4),t.Q6J("polymorpheusOutlet",d.directive.content)("polymorpheusOutletContext",t.VKq(3,tt,l))}},dependencies:[V.IB,m.e,_.W,z.w,v.co,T.Li],styles:["[_nghost-%COMP%]{position:relative;z-index:0;box-shadow:0 1.5rem 1rem rgba(0,0,0,.03),0 .75rem .75rem rgba(0,0,0,.04),0 .25rem .375rem rgba(0,0,0,.05);position:absolute;display:flex;background-color:var(--tui-elevation-01);border-radius:var(--tui-radius-m);overflow:hidden;border:1px solid var(--tui-base-04);box-sizing:border-box;max-width:calc(100% - 8px)}.ng-animating[_nghost-%COMP%]{pointer-events:none}.t-wrapper[_ngcontent-%COMP%]{flex-grow:1;max-width:100%;max-height:inherit;overflow:visible}.t-scroll[_ngcontent-%COMP%]{height:100%}.t-primitive[_ngcontent-%COMP%]{padding:1rem}"],data:{animation:[R.i9]}}),n})(),rt=(()=>{class n extends c.FP{}return n.\u0275fac=function(){let D;return function(d){return(D||(D=t.n5z(n)))(d||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["","tuiDropdown",""]],features:[t._Bn([b.a3]),t.qOj]}),n})(),st=(()=>{class n extends c.O4{getClientRect(){var r;return(null===(r=this.tuiDropdownHost)||void 0===r?void 0:r.getBoundingClientRect())||A.Jy}}return n.\u0275fac=function(){let D;return function(d){return(D||(D=t.n5z(n)))(d||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["","tuiDropdown","","tuiDropdownHost",""]],inputs:{tuiDropdownHost:"tuiDropdownHost"},features:[t._Bn([(0,c.Ic)(n)]),t.qOj]}),n})(),at=(()=>{class n extends c.kk{constructor(){super(r=>this.stream$.subscribe(r)),this.stream$=new J.x,this.tuiDropdownManual=!1}ngOnChanges(){this.stream$.next(this.tuiDropdownManual)}}return n.\u0275fac=function(r){return new(r||n)},n.\u0275dir=t.lG2({type:n,selectors:[["","tuiDropdown","","tuiDropdownManual",""]],inputs:{tuiDropdownManual:"tuiDropdownManual"},features:[t._Bn([(0,c.UK)(n)]),t.qOj,t.TTD]}),n})(),it=(()=>{class n{constructor(r,d,l){this.options=r,this.windowRef=d,this.accessor=l}getPosition({width:r,height:d}){const l=this.accessor.getClientRect(),{innerHeight:C,innerWidth:H}=this.windowRef,{minHeight:N,align:I,direction:Y,offset:K}=this.options,F=this.previous||Y||"bottom",S=Math.max(l.right-r,K),$={top:l.top-2*K,bottom:C-l.bottom-2*K},k={top:l.top-K-d,bottom:l.bottom+K,right:S,left:l.left+r<H-K?l.left:S},et=$.top>$.bottom?"top":"bottom";return $[F]>N&&Y||$[F]>d?[k[F],k[I]]:(this.previous=et,[k[et],k[I]])}}return n.\u0275fac=function(r){return new(r||n)(t.Y36(u),t.Y36(e.m9),t.Y36(c.O4))},n.\u0275dir=t.lG2({type:n,selectors:[["","tuiDropdown","",3,"tuiDropdownCustomPosition","",3,"tuiDropdownSided",""]],features:[t._Bn([(0,c.P7)(n)])]}),n})(),dt=(()=>{class n{constructor(r,d,l,C){this.options=r,this.windowRef=d,this.accessor=l,this.vertical=C,this.previous=this.options.direction||"bottom",this.tuiDropdownSided="",this.tuiDropdownSidedOffset=4}getPosition(r){if(!1===this.tuiDropdownSided)return this.vertical.getPosition(r);const{height:d,width:l}=r,C=this.accessor.getClientRect(),{innerHeight:H,innerWidth:N}=this.windowRef,{align:I,direction:Y,minHeight:K,offset:F}=this.options,S={top:C.bottom,left:C.left-F,right:N-C.right-F,bottom:H-C.top},$={top:C.bottom-d+this.tuiDropdownSidedOffset+1,left:C.left-l-F,right:C.right+F,bottom:C.top-this.tuiDropdownSidedOffset-1},k=S.top>S.bottom?"top":"bottom",ot=S[I]>l?$[I]:S.left>S.right?$.left:$.right;return S[this.previous]>K&&Y||this.previous===k?[$[this.previous],ot]:(this.previous=k,[$[k],ot])}}return n.\u0275fac=function(r){return new(r||n)(t.Y36(u),t.Y36(e.m9),t.Y36(c.O4),t.Y36(it))},n.\u0275dir=t.lG2({type:n,selectors:[["","tuiDropdownSided",""]],inputs:{tuiDropdownSided:"tuiDropdownSided",tuiDropdownSidedOffset:"tuiDropdownSidedOffset"},features:[t._Bn([it,(0,c.P7)(n)])]}),n})(),ct=(()=>{class n{}return n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[T.wq,m.A,_.e,V.Jy,z.z,v.VE]]}),n})()}}]);